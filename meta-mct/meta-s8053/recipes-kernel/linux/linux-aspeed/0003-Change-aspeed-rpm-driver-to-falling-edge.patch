From eee29d3021e1296121b208095952357edb80eca6 Mon Sep 17 00:00:00 2001
From: Janny Au <janny.au@mic.com.tw>
Date: Thu, 10 Mar 2022 15:31:06 +0800
Subject: [PATCH] Change-aspeed-rpm-driver-to-falling-edge

---
 drivers/hwmon/aspeed-pwm-tacho.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/drivers/hwmon/aspeed-pwm-tacho.c b/drivers/hwmon/aspeed-pwm-tacho.c
index 3cb88d6fbec0..2f3c379b85b0 100644
--- a/drivers/hwmon/aspeed-pwm-tacho.c
+++ b/drivers/hwmon/aspeed-pwm-tacho.c
@@ -146,6 +146,7 @@
 #define PWM_MAX 255
 
 #define BOTH_EDGES 0x02 /* 10b */
+#define FALLING_EDGES 0x00 /* 10b */
 
 #define M_PWM_DIV_H 0x00
 #define M_PWM_DIV_L 0x05
@@ -159,6 +160,7 @@
  * 11: reserved.
  */
 #define M_TACH_MODE 0x02 /* 10b */
+#define M_TACH_MODE FALLING_EDGES /* 10b */
 #define M_TACH_UNIT 0x0210
 #define INIT_FAN_CTRL 0xFF
 
